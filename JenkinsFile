pipeline {
   agent any



   stages {
       stage('Dependencies') {
           steps {
       
               sh 'npm install cypress --save-dev'
           }
       }
       stage('e2e Tests') {
           steps {
               sh ' npm test'
           }
   post {
    always {
        publishHTML (target: [

              allowMissing: false,
              alwaysLinkToLastBuild: false,
              keepAll: true,
              reportDir: '',
              reportFiles: "index.html",
              reportName: "Report"])
    }
  }      
 }     
  }
}
